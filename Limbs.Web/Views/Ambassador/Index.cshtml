@using Limbs.Web.Common.Extensions
@using Limbs.Web.Entities.Models
@model Limbs.Web.ViewModels.AmbassadorPanelViewModel
@{
    var o = new OrderModel();
    ViewBag.Title = "Ambassador Panel";
}


    <article id="panel_embajadores">
        <div class="info_panel_embajador">
            <h1>Panel de control</h1>
            <div id="estadistica_emb">
                <div>
                    <p>Entregaste</p>
                    <h2>@Model.Stats.HandledOrders</h2>
                    <p>Manos</p>
                </div>
                <div>
                    <p>Tenés</p>
                    <h2>@Model.Stats.PendingOrders</h2>
                    <p>Pedidos</p>
                </div>
            </div>
        </div>
        <div id="paneles_embajador">



                <article class="card card-l">
                    <h2>Pedidos entrantes:</h2>
                    @if (Model.PendingToAssignOrders.Count > 0)
                    {
                    <div class="table-items table-pedidos">
                        @foreach (var order in Model.PendingToAssignOrders)
                        {
                            <a tabindex="0" href="@(Url.Action("Details", "Orders", new { id = order.Id }))">
                                <div class="info_id">#@order.Id</div>
                                <div class="info_name">@order.OrderRequestor.FullNameWithoutLastName()</div>
                                <div class="info_date">@Html.DisplayFor(x => order.Date, "ToFriendlyDateString")</div>
                            </a>
                        }
                    </div>
                    } else {
                        <div>No tienes nuevos pedidos asignados</div>
                    }
                </article>
 @*          
     <div>
        <div>@Html.DisplayNameFor(x => o.Id)</div>
        <div>@Html.DisplayNameFor(x => o.OrderRequestor.UserName)</div>
        <div>@Html.DisplayNameFor(x => o.Date)</div>
        <div>@Html.DisplayNameFor(x => o.Status)</div>
    </div>
*@
            <article class="card card-l">
                <h2>Tus pedidos:</h2>
                <div class="table-items table-pedidos">
                    @foreach (var order in Model.PendingOrders)
                    {
                        <a tabindex="0" href="@(Url.Action("Details", "Orders", new { id = order.Id }))">
                            <div class="info_id"><div>#@order.Id</div></div>
                            <div class="info_name"><div>@order.OrderRequestor.FullNameWithoutLastName()</div></div>
                            <div class="info_date">@Html.DisplayFor(x => order.Date, "ToFriendlyDateString")</div>
                            <div class="info_description">@order.Status.ToDescription()</div>
                        </a>
                    }
                </div>
            </article>


                <article id="terminadas" class="card card-l">
                    <h2>Terminadas:</h2>
                    @if (Model.DeliveredOrders.Count > 0) {
                        <div class="table-items table-pedidos">
                            @foreach (var order in Model.DeliveredOrders)
                            {
                                <a tabindex="0" href="@(Url.Action("Details", "Orders", new { id = order.Id }))">
                                    <div class="info_id"><div>#@order.Id</div></div>
                                    <div class="info_name">@order.OrderRequestor.FullNameWithoutLastName()</div>
                                    <div class="info_date">@Html.DisplayFor(x => order.Date, "ToFriendlyDateString")</div>
                                    <div class="info_description">@order.Status.ToDescription()</div>
                                </a>
                            }
                        </div>
                    } else {
                        <div>¡Aún no has entregado ninguna mano!</div>
                    }
                </article>


        </div>
    </article>
